{"version":3,"sources":["components/VideoChat/Spinner/Spinner.js","components/VideoChat/Login/ChatLoginForm.js"],"names":["Spinner","react_default","a","createElement","className","socket","Video","lazy","Promise","all","__webpack_require__","e","then","bind","Chat","_useState","useState","spinner","loggined","userIsCreated","users","_useState2","Object","slicedToArray","state","setState","useEffect","document","title","on","data","type","objectSpread2","close","react","fallback","Spinner_Spinner","user","onSubmit","name","target","value","room","preventDefault","emit","console","log","required","placeholder","io","connect"],"mappings":"oOAGe,SAASA,IACtB,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wDCAnB,IAEIC,EAFEC,EAAQC,eAAK,kBAAKC,QAAAC,IAAA,CAAAC,EAAAC,EAAA,GAAAD,EAAAC,EAAA,IAAAD,EAAAC,EAAA,KAAAC,KAAAF,EAAAG,KAAA,aAMT,SAASC,IAAO,IAAAC,EACJC,mBAAS,CAClCC,SAAS,EACTC,UAAU,EACVC,eAAe,EACfC,MAAO,KALsBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAP,EAAA,GACvBS,EADuBH,EAAA,GAChBI,EADgBJ,EAAA,GAmC9B,OAhBAK,oBAAU,WAUT,OATAC,SAASC,MAAQ,OACjBvB,EAAOwB,GAAG,UAAW,SAACC,GACJ,QAAdA,EAAKC,KACPN,EAAS,SAACD,GAAD,OAAAF,OAAAU,EAAA,EAAAV,CAAA,GAAgBE,EAAhB,CAAuBP,SAAS,EAAOC,UAAU,EAAOC,eAAe,MAEhFM,EAAS,SAACD,GAAD,OAAAF,OAAAU,EAAA,EAAAV,CAAA,GAAgBE,EAAhB,CAAuBP,SAAS,EAAOC,UAAU,QAIrD,WACNb,EAAO4B,UAGN,IAECT,EAAMN,SAmBTjB,EAAAC,EAAAC,cAAC+B,EAAA,SAAD,CAAUC,SAAUlC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAeH,EAAAC,EAAAC,cAACiC,EAAD,QACjDnC,EAAAC,EAAAC,cAACG,EAAD,CAAOD,OAAQA,EAAQgC,KAAMb,EAAMJ,SAlBnCnB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACdH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,kBAAkBkC,SA9BrC,SAAgB3B,GACfc,EAAS,SAACD,GAAD,OAAAF,OAAAU,EAAA,EAAAV,CAAA,GACLE,EADK,CAERP,SAAS,EACTG,MAAO,CAACmB,KAAM5B,EAAE6B,OAAOD,KAAKE,MAAOC,KAAM/B,EAAE6B,OAAOE,KAAKD,WAExD9B,EAAEgC,iBACFtC,EAAOuC,KAAK,OAAQjC,EAAE6B,OAAOE,KAAKD,MAAO9B,EAAE6B,OAAOD,KAAKE,OACvDI,QAAQC,IAAI,YAuBTtB,EAAMP,SAAWhB,EAAAC,EAAAC,cAACiC,EAAD,MACjBnC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,uBAAd,8CACAH,EAAAC,EAAAC,cAAA,UAAQ4B,KAAK,GAAG3B,UAAU,eAAemC,KAAK,OAAOQ,UAAQ,GAC5D9C,EAAAC,EAAAC,cAAA,4BACAF,EAAAC,EAAAC,cAAA,8BAEDF,EAAAC,EAAAC,cAAA,SAAO4B,KAAK,OAAO3B,UAAU,eAAemC,KAAK,OAAOS,YAAY,YAAYD,UAAQ,IACvFvB,EAAML,eAAiBlB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAAf,6BACxBH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAe2B,KAAK,SAASU,MAAM,YAjDzDpC,EAAS4C,IAAGC,QAAQ","file":"static/js/8.78e62db1.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Spinner.scss';\r\n\r\nexport default function Spinner(){\r\n  return(\r\n    <div className=\"lds-dual-ring\"></div>\r\n  )\r\n}","import React, {useEffect, useState, lazy, Suspense} from 'react';\r\n// import Video from '../Chat';\r\nimport io from 'socket.io-client';\r\nimport './login.scss'\r\nimport Spinner from '../Spinner/Spinner';\r\nconst Video = lazy(()=> import('../Chat'));\r\n\r\nlet socket;\r\n\r\nsocket = io.connect('https://rocky-reef-68087.herokuapp.com');\r\n\r\nexport default function Chat() {\r\n\tconst [state, setState] = useState({\r\n\t\tspinner: false,\r\n\t\tloggined: false, \r\n\t\tuserIsCreated: false, \r\n\t\tusers: {}\r\n\t});\r\n\r\n\tfunction submit(e){\r\n\t\tsetState((state) =>({\r\n\t\t\t...state, \r\n\t\t\tspinner: true, \r\n\t\t\tusers: {name: e.target.name.value, room: e.target.room.value}\r\n\t\t}));\r\n\t\te.preventDefault();\r\n\t\tsocket.emit('join', e.target.room.value, e.target.name.value);\r\n\t\tconsole.log('object');\r\n\t}\r\n\r\n\tuseEffect(()=>{\r\n\t\tdocument.title = 'Chat';\r\n\t\tsocket.on('message', (data)=>{\r\n\t\t\tif(data.type === 'err'){\r\n\t\t\t\tsetState((state) => ({...state, spinner: false, loggined: false, userIsCreated: true}));\r\n\t\t\t} else{\r\n\t\t\t\tsetState((state) => ({...state, spinner: false, loggined: true}));\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\treturn ()=>{\r\n\t\t\tsocket.close();\r\n\t\t}\r\n\r\n\t}, [])\r\n\r\n\tif(!state.loggined){\r\n\t\treturn(\r\n\t\t\t<div className='login-wrap'>\r\n\t\t\t\t<form className='user-connection' onSubmit={submit}>\r\n\t\t\t\t{state.spinner && <Spinner></Spinner>}\r\n\t\t\t\t\t<h2 className=\"form-signin-heading\">Please select room and enter your nickname</h2>\r\n\t\t\t\t\t<select type='' className=\"form-control\" name=\"room\" required>\r\n\t\t\t\t\t\t<option>First room</option>\r\n\t\t\t\t\t\t<option>Second room</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t\t<input type=\"text\" className=\"form-control\" name=\"name\" placeholder=\"USER NAME\" required/>      \r\n\t\t\t\t\t{state.userIsCreated && <div className='alert'>User already in this room</div>}\r\n\t\t\t\t\t<input className=\"submitButton\" type=\"submit\" value='Enter'></input>   \r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Suspense fallback={<div className='spinner-main'><Spinner></Spinner></div>}>\r\n\t\t\t<Video socket={socket} user={state.users}></Video>\r\n\t\t</Suspense>\r\n\t);\r\n}"],"sourceRoot":""}